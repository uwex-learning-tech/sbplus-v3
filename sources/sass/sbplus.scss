@import "compass/reset/utilities";
@import "compass/css3/animation";
@import "compass/css3/box-sizing";
@import "compass/css3/border-radius";
@import "compass/css3/box-shadow";
@import "compass/css3/flexbox";
@import "compass/css3/hyphenation";
@import "compass/css3/opacity";
@import "compass/css3/transform";
@import "compass/css3/user-interface";

@import "animate.css" screen, projection;
@import "../fonts/sbplus_fonts.css";
@import "../fonts/museo.css";

$cntrlBarHeight: 50px;
$titleBarHeight: 30px;
$offset: $cntrlBarHeight + $titleBarHeight;
$gutter: 10px;
$font-size-base: 16px;
$default-accent: #0c3b6b;
$default-accent-hover: #06498d;
$default-font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
$border-color: #ccc;
$box-height: 586px;
$widget-height: 146px;
$museo-font: "museo_sans500";

@mixin calc( $property, $expression ) {
    #{$property}: -moz-calc(#{$expression});
    #{$property}: -webkit-calc(#{$expression});
    #{$property}: calc(#{$expression});
}

@mixin aspect-ratio( $width, $height ) {
    
    position: relative;
    
    &:before {
        display: block;
        content: "";
        width: 100%;
        padding-top: ( $height / $width ) * 100%;
    }
    
    > .sbplus_media_content {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
    }
    
}

@mixin font-size( $px, $base: $font-size-base ) {
    font-size: $px;
    font-size: ( $px / $base ) * 1rem;
}

/* general */
html {
    font-size: 16px;
    height: 100%;
}

body {
    @include font-size( 14px );
    font-family: $default-font-family;
    margin: 0;
    padding: 0;
    height: 100%;
    background-color: #EFEEE8;
}

.sbplus_pop_full {
    position: relative;
    width: 100%;
    height: 100%;
}

[class^="sr-"],
.sr-only {
    position: absolute !important;
    width: 1px;
    height: 1px;
    overflow: hidden;
    clip: rect(1px, 1px, 1px, 1px);
}

/* sbplus */

.sbplus_wrapper {
    
    height: 100%;
    
    * {
        @include reset-box-model();
        @include box-sizing( border-box );
    }
    
    *:focus {
        outline: 1px dotted $default-accent;
    }
    
    #theme-decoration-bar {
        display: none;
    }
    
    button {
        display: block;
        border: none;
        width: 100%;
        min-width: 60px;
        min-height: 100%;
        text-align: center;
        background-color: transparent;
        font-family: $default-font-family;
        font-size: inherit;
        margin: 0;
        padding: 0;
        cursor: pointer;
    }
    
    button:hover {
        color: $default-accent-hover;
    }
    
    #sbplus_error_screen {
        
        display: none;
        position: absolute;
        z-index: 10;
        background-color: #ac3030;
        
        @include align-items( center );
        @include justify-content( center );
        
        #sbplus_error_info {
            
            min-width: 33%;
            max-width: 50%;
            color: #fff;
            font-weight: normal;
            line-height: 1.2;
            
            .center_icon {
                text-align: center;
                font-size: 1000%;
            }
            
            h1 {
                font-size: 150%;
                font-weight: bold;
                margin: $gutter 0;
            }
            
            p {
                margin: $gutter 0;
            }
            
            ul {
                list-style: disc outside;
                margin-left: 25px;
            }
            
            a {
                color: #CCD8FF;
                text-decoration: none
            }
            
            a:hover {
                text-decoration: underline;
            }
            
        }
        
    }
    
    .error {
        
        color: #f00;
        
        strong {
            font-weight: bold;
        }
        
        code {
            font-family: monospace;
        }
        
    }
    
    #sbplus {
        
/*
        @include display-flex();
        @include flex-flow( column nowrap );
*/
        position: relative;
        height: 100%;
        
        #sbplus_splash_screen {
            
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: 9;
            background-color: #fff;
            @include animation-duration( 0.5s );
            
            @include display-flex( flex );
            @include align-items( center );
            @include justify-content( center );
            
            #sbplus_presentation_info {
                
                min-width: 45%;
                max-width: 55%;
                padding: 5px $gutter;
                padding: rem( 18px ) rem( 30px ) rem( 20px );
                background-color: rgba( 255, 255, 255, 0.65 );
                @include border-radius( 5px );
                -webkit-backdrop-filter: blur( 8px );
                backdrop-filter: blur( 8px );
                
                .common {
                    margin: 5px 0 $gutter;
                    line-height: 1.25;
                    font-size: 110%;
                }
                
                .sb_title {
                    @extend .common;
                    font-family: $museo-font;
                    font-size: 140%;
                    font-weight: bold;
                    margin-bottom: 0;
                }
                
                .sb_subtitle {
                    @extend .common;
                    font-size: 130%;
                    margin-top: 0;
                }
                
                .sb_cta {
                    
                    button {
                        color: #fff;
                        padding: $gutter 0;
                        @include border-radius( $gutter );
                        margin-bottom: $gutter;
                        font-weight: bold;
                        text-transform: uppercase;
                        background-color: $default-accent;
                    }
                    
                    button:hover {
                        background-color: $default-accent-hover;
                    }
                    
                }
                
                .sb_author,
                .sb_duration {
                    @extend .common;
                }
                
                .sb_downloads {
                    
                    @extend .common;
                    margin-bottom: 0;
                    font-size: 80%;
                    
                    a {
                        position: relative;
                        display: block;
                        font-size: 130%;
                        text-decoration: none;
                        padding: 5px 0;
                        text-align: center;
                        color: #000;
                        margin-bottom: $gutter;
                    }
                    
                    a:hover {
                        text-decoration: underline;
                    }
                    
                }
                
            }
            
            #sb_splash_bg {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-position: center;
                background-repeat: no-repeat;
                background-size: cover;
                @include animation-duration( 1.5s );
                z-index: -1;
            }
            
        }
        
        #sbplus_banner_bar {
            
            @include display-flex();
            @include flex-flow( row nowrap );
            @include order(1);
            @include justify-content(center);
            color: #fff;
            height: $titleBarHeight;
            background-color: #333;
            font-size: 120%;
            font-weight: bold;
            
            #sbplus_lession_title {
                @include display-flex();
                @include flex-flow( row nowrap );
                @include flex( 2 1 auto );
                @include align-items(center);
                font-family: $museo-font;
                padding: 0 $gutter;
                line-height: 1.25;
            }
            
            #sbplus_menu_area {
        
                @include display-flex();
                @include align-items( center );
                @include justify-content( center );
                
                #sbplus_author_name {
                    display: none;
                    @include flex( 2 0 85% );
                    color: inherit;
                    font-family: $museo-font;
                }
                
                #sbplus_menu_btn_wrapper {
                    
//                     @include flex( 1 0 15% );
                    margin: 0;
                    padding: 0 $gutter 0 0;
                    
                    #sbplus_menu_btn,
                    .root-level {
                        
                        min-width: 30px;
                        margin: 0;
                        padding: 0;
                        color: inherit;
                        font-size: 28px;
                        list-style: none;
                        height: 100%;
                        line-height: 1;
                    
                        .menu-parent {
                            
                            @include display-flex();
                            @include align-items( center );
                            position: relative;
                            height: 100%;
                            cursor: pointer;
                            
                            .menu {
                            
                                position: absolute;
                                width: 260px;
                                right: -9px;
                                top: 29px;
                                list-style: none;
                                margin: 0;
                                padding: 0;
                                border-top: none;
                                background-color: #5f5d5d;
                                @include box-shadow( 0 6px 4px 2px #fff);
                                z-index: 11;
                                
                                .menu-item {
                                    
                                    a { 
                                        
                                        @include display-flex();
                                        @include flex-flow( row nowrap );
                                        @include align-items( center );
                                        width: 100%;
                                        height: 35px;
                                        padding: 0 ($gutter + 5);
                                        font-size: 14px;
                                        font-weight: normal;
                                        color: #fff;
                                        text-decoration: none;
                                        
                                        span {
                                            display: inline-block;
                                            margin-right: 5px;
                                        }
                                        
                                    }
                                    
                                }
                                
                                .menu-item:hover {
                                    
                                    background-color: $default-accent-hover;
                                    
                                    a {
                                        color: #fff;
                                    }
                                    
                                }
                                
                                .menu-item:focus {
                                    
                                    background-color: $default-accent;
                                    
                                    a {
                                        color: #fff;
                                    }
                                    
                                }
                                                                    
                            }
                            
                        }
                        
                        .active {
                            color: #ff3c3c;
                        }
                        
                    }
                    
                    ul[aria-hidden="true"] {
                        display: none;
                    }
                    
                }
                
            }
            
        }
        
        #sbplus_content_wrapper {
            
            @include display-flex();
            @include flex-flow( column nowrap );
            @include order(2);
            height: 88.8889%;
            @include calc( height, '100% - ' + $offset );
            
            #sbplus_left_col {
                
                position: relative;
                
                #sbplus_media_wrapper {
                    
                    position: relative;
                    width: 100%;
                    height: 100%;
                    background-color: #000;
                    overflow: hidden;
                    @include aspect-ratio( 16, 9 );
                    
                    .sbplus_media_error {
                        
                        display: none;
                        position: absolute;
                        width: 100%;
                        height: 100%;
                        color: #fff;
                        padding: 10px;
                        z-index: 2;
                        background-color: rgba( 0,0,0, 0.5 );
                        top: 0;
                        left: 0;
                        
                        p {
                            margin-bottom: 10px;
                        }
                        
                        ol, ul {
                            
                            margin-bottom: 10px;
                            padding-left: 20px;
                            list-style-position: inside;
                            
                            li {
                                margin-bottom: 6px;                                
                            }
                            
                        }
                        
                        a {
                            color: #50dcff;
                        }

                    }
                    
                    .sbplus_media_content {
                        
                        width: 100%;
                        height: 100%;
                        color: #fff;
                        
                        @include display-flex();
                        @include flex-flow( column nowrap );
                        @include animation-duration( 0.5s );
                        
                        .animated {
                            width: 100%;
                            height: 100%;
                        }
                        
                        // html/iframe
                        .html {
                            width: 100%;
                            height: 100%;
                            background-color: #fff;
                        }
                        
                        // external link
                        .exLink {
                            
                            @include display-flex();
                            @include flex-flow( column nowrap );
                            @include align-items( center );
                            @include justify-content( center );
                            padding: $gutter;
                            
                            a {
                                display: block;
                                @include font-size( 18px );
                                text-decoration: none;
                            }
                            
                            a:hover {
                                text-decoration: underline;
                            }
                            
                            small {
                                display: block;
                                color: #ccc;
                                @include font-size( 12px );
                            }
                            
                        }
                        
                        // Image
                        .img_only {
                            //display: block;
                            //width: auto;
                            width: 100%;
                            height: 100%;
                            //margin: 0 auto;
                            object-fit: contain;
                        }
                        
                        // VideoJS
                        
                        #mp_html5_api {
                            @include animation-duration( 0.75s );
                        }
                        
                        #mp_Youtube_api {
                            @include animation-duration( 0.75s );
                        }
                        
                        .video-js.vjs-default-skin {
                        
                            width: 100%;
                            height: 100%;
                            font-size: 11px;
                            color: #fff;
                            
                            button:hover {
                                color: #fff;
                            }
                            
                            .vjs-control-bar {
                                
                                z-index: 3;
                                
                                button {
                                    display: inherit;
                                    min-width: inherit;
                                }
                                
                                .vjs-forward-button:before {

                                    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1024 1024'%3E%3Cdefs%3E%3Cstyle%3E .a %7B fill: %23fff; %7D %3C/style%3E%3C/defs%3E%3Cpath class='a' d='M727.5 105.4c0 0-0.1-0.1-0.1-0.1 -3.5-2.6-6.9-5.2-10.4-7.8 -7.1-5.4-14.3-10.7-21.4-16.1 -8.2-6.2-16.4-12.3-24.6-18.5 -6.8-5.1-13.7-10.2-20.5-15.4 -2.8-2.1-5.7-4.3-8.5-6.4 0 0.1 0 0.2 0 0.2 -0.2 0.5 0 1.3 0 1.8 0 1.1 0 2.1 0 3.2 0 3.3 0 6.5 0 9.8 0 8.2 0 16.4-0.1 24.6 0 5.3 0 10.5 0 15.8 0 12.3-0.1 24.5-0.2 36.8 0 1-0.1 19.5-0.3 19.5 -0.1 0-0.2-0.1-0.3-0.2 -0.7-0.3-1.3-1-1.9-1.4 -1.2-0.9-2.4-1.8-3.6-2.7 -3.9-2.9-7.8-5.8-11.6-8.7 -12.4-9.2-24.8-18.5-37.2-27.8 -15.3-11.4-30.5-22.9-45.8-34.3C529 69 517.2 60.1 505.4 51.4c-3.4-2.6-6.8-5.1-10.3-7.6 -0.9-0.7-1.8-1.3-2.7-2 -0.2-0.1-0.7-0.7-1-0.7 -0.3 0-0.3 40.5-0.3 43 0 9.6 0 19.2 0 28.9 0 4.5 0 8.9 0 13.4 0 0.1 0.1 0.7 0 0.8 -0.2 0.2-1.3 0-1.6 0 -0.7 0-1.4 0-2.1 0 -3.8 0.1-7.6 0.3-11.3 0.6 -18.5 1.5-36.9 4.9-55 9 -19.3 4.4-38.5 9.8-57.2 16.5 -19.2 6.9-37.8 15.8-55.8 25.5 -18.4 9.9-35.9 21.2-52.6 33.8 -17.7 13.4-34.5 28.1-50 44.1 -11.3 11.6-21.8 24-31.8 36.7 -12.4 15.7-23.2 32.7-33.1 50.1 -9.8 17.1-18.9 34.8-25.9 53.2 -4.4 11.6-8.8 23.4-12.3 35.4 -5.4 18.8-9.7 37.9-12.8 57.2 -3.2 20.4-4.8 40.9-4.9 61.6 -0.1 23.8 1.2 47.5 4.9 71 1.8 11.4 4.1 22.8 6.9 34 1.1 4.4 2.2 8.9 3.4 13.3 0.2 0.8 0.4 1.7 0.5 2.5 0.2 0.9 0.6 1.7 0.9 2.6 0.5 1.3 1 2.4 1.1 3.7 0.2 1.9 0.8 3.8 1.4 5.7 0.9 3 1.9 6 3 9 2.9 8 6 15.9 9.2 23.8 7.5 18.1 15.9 35.6 25.7 52.6 11.3 19.6 24.1 38.5 38.4 56 7 8.6 14.6 16.8 22.1 24.9 1.4 1.5 2.6 3.1 4 4.5 2 2 4 3.9 6.1 5.9 5.3 5 10.6 10.1 16 14.9 7.7 7 15.8 13.5 24.1 19.9 8.9 6.8 18 13.3 27.4 19.4 8 5.2 16.2 10 24.5 14.8 17.5 10.1 36 18.3 54.9 25.4 20 7.6 40.5 13.9 61.3 18.7 18.2 4.1 36.7 6.7 55.3 8.4 17.5 1.6 35.3 1.6 52.9 1.1 7.8-0.2 15.6-0.5 23.3-1.4 10.2-1.1 20.3-2.1 30.4-3.8 11.9-2 23.6-4.7 35.2-7.5 5.9-1.4 11.8-2.8 17.6-4.6 13.8-4.3 27.6-8.9 40.9-14.5 10.2-4.3 20.3-8.8 30.2-13.8 10.2-5.2 20.2-10.8 29.9-16.8 19.6-12.1 38.3-25.6 55.7-40.5 8.5-7.3 16.8-14.9 24.7-22.9 6.2-6.3 12.3-12.7 18.1-19.4 9.6-11.2 18.9-22.8 27.5-34.8 2-2.8 3.9-5.5 5.9-8.3 0.9-1.3 1.8-2.5 2.5-3.9 1.5-3.1 3.8-5.9 5.7-8.8 2.3-3.6 4.4-7.2 6.6-10.9 1.2-2.1 2.4-4.2 3.6-6.3 0.9-1.7 1.8-3.4 2.8-5 0.9-1.3 1.6-2.8 2.4-4.2 3-5.8 5.8-11.8 8.6-17.8 5.6-12.2 10.8-24.5 15.7-37 2.6-6.7 4.7-13.7 6.7-20.7 2.5-8.7 4.8-17.4 6.8-26.2 2.1-8.7 4-17.5 5.6-26.3 1.5-8.1 2.5-16.1 3.4-24.3 0.7-6 1.3-12.1 1.7-18.2 0.5-9.1 0.7-18.2 0.8-27.4 0-9.4-0.1-18.8-0.5-28.2 -0.4-9.4-1.4-18.7-2.6-28 -1.5-11.2-3.3-22.4-5.5-33.5 -1.9-9.6-4.1-19.2-6.9-28.6 -1.8-5.9-3.1-11.8-5.1-17.6 -2.7-7.7-5.6-15.4-8.6-23 -6.1-15.2-12.8-30.2-20.5-44.8 -3.3-6.3-6.9-12.5-10.5-18.6 -0.7-1.1-1.3-2.2-2-3.3 -0.7-1.1-1.7-2.1-2.2-3.4 -0.3-0.9-0.8-1.7-1.3-2.5 -2.6-4.2-5.5-8.3-8.4-12.4 -3.9-5.6-7.9-11.1-12-16.5 -3.5-4.7-7-9.4-10.7-13.9 -1.1-1.3-2.1-2.6-3.3-3.8 -0.3-0.3-0.7-0.8-1.2-1 -0.7-0.3-1.4 0.3-2 0.7 -2.3 1.7-4.4 3.7-6.6 5.5 -2.9 2.5-5.8 4.9-8.7 7.4 -9.1 7.7-18.2 15.5-27.3 23.2 -6.5 5.6-13.1 11.1-19.4 16.8 -0.3 0.2-1.2 0.8-1.3 1.2 -0.1 0.3 0.3 0.7 0.5 0.9 0.7 1 1.4 1.9 2.2 2.9 3.1 3.9 6.2 7.7 9.2 11.7 1.5 2 3.2 3.8 4.6 5.8 1.7 2.3 3.2 4.7 4.8 7.1 4.2 6.4 8.4 12.9 12.4 19.5 9.3 15.3 16.7 31.9 23.5 48.5 3.4 8.3 6.5 16.7 9.2 25.3 2.2 7.1 3.8 14.4 5.5 21.6 4.8 20.5 7.4 41.6 8.5 62.6 0.6 10.2 0.8 20.4 0.4 30.6 -0.3 9.3-1.3 18.6-2.4 27.9 -1.7 14.4-4.8 28.4-8.4 42.5 -1.9 7.6-4 15.2-6.3 22.8 -0.9 2.9-1.8 5.8-2.8 8.6 -0.9 2.4-1.9 4.7-2.9 7 -3.8 9.5-7.8 18.8-12.4 28 -4.9 9.8-10.3 19.5-16 28.8 -9.7 15.8-20.9 30.5-32.8 44.6 -6.3 7.5-13.3 14.4-20.3 21.2 -7.9 7.6-16.1 14.8-24.6 21.7 -16.7 13.4-34.8 25.1-53.7 35.2 -17.5 9.3-35.8 17.2-54.7 23.2 -21.5 6.9-43.7 11.4-66.2 13.8 -22.9 2.5-46.1 2.8-69.1 0.9 -21.2-1.8-42.2-5.5-62.6-11.3 -19.5-5.5-38.5-12.8-56.7-21.8 -18.2-8.9-35.7-19.4-52.1-31.4 -16.4-11.9-31.7-25.3-45.8-40 -14.2-14.8-26.8-30.9-38.2-48 -8.5-12.7-16.2-25.9-22.7-39.8 -4.6-9.8-8.9-19.7-12.7-29.9 -1.5-4.1-3.2-8.2-4.4-12.4 -1.3-4.6-2.9-9.1-4.2-13.8 -5.6-20.1-9.5-40.8-11.3-61.5 -1.9-23.4-1.8-47.2 0.8-70.5 1.5-13.2 3.9-26.3 6.8-39.3 1.8-8.2 4.3-16.2 6.7-24.2 1-3.2 1.9-6.5 3.2-9.6 1.4-3.5 2.4-7.2 3.9-10.6 4.3-10.1 8.5-20.2 13.3-30 4.7-9.4 9.8-18.7 15.4-27.6 5.7-9.2 12-18 18.6-26.6 6-7.8 12.2-15.5 19-22.8 6.4-7 13.1-13.7 19.9-20.3 6.1-5.8 12.6-11.2 19.2-16.5 7.3-5.8 14.7-11.4 22.3-16.8 6-4.2 12.1-7.9 18.4-11.5 17.3-10.1 35.6-18.5 54.4-25.4 19-7 38.6-12.8 58.4-16.7 8.7-1.7 17.4-3.1 26.2-3.8 1.9-0.2 3.9-0.3 5.8-0.4 1 0 2-0.1 3-0.1 0.8 0 2-0.3 2.7 0 0.5 0.1 0.5 0.3 0.6 0.8 0.5 3 0.4 6.2 0.4 9.2 0.1 8.2 0.1 16.4 0.1 24.5 0 3-0.1 50.3 0.3 50.3 0.1 0 0.4-0.3 0.5-0.3 3.5-2.5 7-5.2 10.5-7.7 7.2-5.3 14.4-10.7 21.5-16 9.8-7.3 19.7-14.7 29.5-22.1 4.9-3.7 9.9-7.4 14.8-11.1 3.1-2.3 6.2-4.7 9.3-7 4.9-3.6 9.7-7.3 14.6-10.9 5.6-4.2 11.1-8.3 16.7-12.5 5.3-4 10.6-7.9 15.8-11.9 3.9-2.9 7.9-5.9 11.8-8.8 1.5-1.2 3.1-2.3 4.6-3.5 0 0.1 0 0.3 0 0.4 0.1 0.9 0 1.9 0 2.8 0 1.7 0 3.4 0 5.1 0 4.8 0.1 9.7 0.1 14.5 0.1 9.5 0.1 19.1 0.2 28.6 0 3.8 0 7.5 0.1 11.3 0.1 10 0.1 20 0.2 30 0 6.3 0.1 12.6 0.1 19 0.2-0.1 0.4-0.3 0.6-0.4 4-3 8.1-6.1 12.1-9.1 7.4-5.6 14.8-11.1 22.2-16.7 8.2-6.1 16.4-12.3 24.6-18.4 6.5-4.8 12.9-9.7 19.4-14.5 2.3-1.7 4.6-3.4 6.9-5.1 3.5-2.6 6.9-5.2 10.4-7.8 7.1-5.3 14.2-10.7 21.4-16 8.2-6.2 16.5-12.3 24.7-18.5 6.8-5.1 13.7-10.2 20.5-15.4 2.8-2.1 5.7-4.3 8.5-6.4 0 0-0.1-0.1-0.1-0.1 -0.1-0.3-0.9-0.7-1.2-0.9 -0.7-0.6-1.5-1.1-2.2-1.7 -2.3-1.8-4.7-3.5-7-5.3 -7.1-5.4-14.3-10.7-21.4-16.1 -8.2-6.2-16.4-12.3-24.6-18.5 -6.8-5.1-13.7-10.2-20.5-15.4C733.1 109.6 730.3 107.5 727.5 105.4'/%3E%3C/svg%3E");
                                    position: absolute;
                                    top: calc(50% - 9px);
                                    left: calc(50% - 10px);
                                    background-repeat: no-repeat;
                                    content: ' ';
                                    width: 16px;
                                    height: 21px;
                                    
                                }
                                
                                .vjs-forward-button {
                                    cursor: pointer
                                }
                                
                                .vjs-backward-button:before {
                            
                                    background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1024 1024'%3E%3Cdefs%3E%3Cstyle%3E .a %7B fill: %23fff; %7D %3C/style%3E%3C/defs%3E%3Cpath class='a' d='M298.5,105.4l-85.7,64.2l85.7,64.1l85.7,64.1l0.3-55.9l0.3-55.9l74.7,55.9c41.1,30.7,74.8,55.9,75,55.9 c0.2,0,0.3-19.1,0.3-42.4c0-35.3,0.1-42.4,0.9-42.4c39.3,0,105.7,20.1,148.1,44.9c4.4,2.6,8.6,5,9.3,5.4 c10.8,6.1,36.6,25.6,49.8,37.6c8.8,8,23.9,23.6,30.5,31.5c25,30,40.9,55.7,55.2,89.6c2.4,5.7,4.6,10.9,4.9,11.6 c0.3,0.7,0.9,2.4,1.3,3.9c0.4,1.4,1.1,3.4,1.6,4.5c1.1,2.7,5.1,15.7,7.4,24.3c2.4,8.9,2.2,8.1,3.4,14.2c0.6,2.8,1.3,6.2,1.6,7.4 c0.6,2.5,3.6,21.5,4.2,27.1c2.8,25.1,2.8,54.4,0,79.5c-2,18.2-7.4,43.9-12.5,60c-1.1,3.5-2.1,6.8-2.2,7.4c-0.1,0.6-0.7,2.2-1.2,3.6 c-0.5,1.4-2.1,5.5-3.3,9c-2.8,7.6-6.6,16.7-9.7,23.4c-1.2,2.6-3.1,6.7-4.2,9c-1.6,3.5-8.7,16.5-10.8,19.9c-0.3,0.5-1.5,2.6-2.7,4.5 c-1.1,1.9-2.6,4.3-3.1,5.1c-0.6,0.9-3.5,5.2-6.4,9.6c-51.4,77.1-136.4,131.7-228,146.4c-65.3,10.5-136.6,1.7-192.5-23.8 c-2.2-1-4.2-1.8-4.4-1.8c-0.2,0-4.9-2.3-10.4-5c-39.2-19.5-71.8-44.2-103.2-78.1c-4.6-5-16.9-20.3-23.2-28.9 c-14.9-20.4-31.8-51.3-40.7-74.3c-0.7-1.9-1.6-4-1.9-4.7c-5-10.5-16.7-56.3-18.3-71.6c-0.2-1.6-0.4-3.5-0.6-4.2 c-0.1-0.7-0.5-3.3-0.7-5.8c-0.2-2.5-0.6-6.4-0.9-8.7c-3.4-29-0.2-74.9,7.4-107.7c1.3-5.4,2.4-10.3,2.5-11c4.2-19.8,21.7-62,35-84.3 c5-8.5,18.3-28.9,19.2-29.5c0.2-0.2,2.2-2.6,4.3-5.5c2.1-2.8,5.5-7.1,7.5-9.6c2-2.4,3.6-4.6,3.6-4.9c0-0.3-12.5-11.1-27.8-24.1 c-15.3-13-29.3-24.9-31.3-26.6c-5.4-4.6-5.7-4.8-6.9-3.9c-4.3,3.5-36.2,47.4-36.2,49.7c0,0.2-0.7,1.3-1.5,2.5 c-1.7,2.2-11.5,19.4-14,24.5c-0.9,1.8-3.6,7.3-6.1,12.2c-8.8,17.6-23.8,55.7-25.4,65c-0.1,0.6-0.8,3.2-1.6,5.7 c-6.1,20-12.1,52.5-14.6,79.6c-1.7,18.7-1.7,55.5,0,73.9c0.3,3.4,0.7,6.9,2,18.6c2.7,24.8,15.2,75.2,23,93.1c0.5,1.1,1.4,3.4,2,5.2 c3.7,10.4,20.8,47.4,23.4,50.7c0.3,0.4,1.4,2.4,2.6,4.5s3.6,6.5,5.5,9.6c4.6,7.6,4.6,7.7,7.8,12.4c1.5,2.2,2.7,4.2,2.7,4.4 c0,0.7,14.3,20.7,18.9,26.6c5.4,6.8,16.5,20.1,18.7,22.5c1.1,1.2,4.3,4.7,7.1,7.7c38.3,41.9,92.8,80,145.8,102.1 c2.8,1.2,6.3,2.6,7.7,3.3c8.9,3.8,39.7,14.2,46.8,15.7c0.8,0.2,6,1.4,11.7,2.8c19.6,4.8,36.1,7.8,52.4,9.4c1.9,0.2,6,0.6,9,1 c18.9,2.2,60.6,2.2,80,0c3.2-0.4,7.2-0.8,9-1c1.8-0.2,5.4-0.6,8-1c2.6-0.4,5.8-0.8,7.1-1c46.8-6.3,110.1-28.4,148.7-51.9 c3.2-1.9,7.8-4.7,10.3-6.2c17.9-10.5,41.4-27.7,59.6-43.8c6.4-5.6,24.8-23.1,25-23.7c0.1-0.3,2.4-2.8,5-5.6 c27.6-29,51.3-63,70.8-102c11-22,27-62.9,26.8-68.4c0-0.2,0.5-1.5,1.1-2.9c0.6-1.4,1-2.6,0.9-2.6s0.2-1.3,0.6-2.9 c0.4-1.6,0.9-3.3,1-3.9c0.1-0.5,1.1-4.3,2.1-8.4c8.3-33.4,12-64.5,12-101.5c0-21.5-0.6-31.3-3-52c-2.3-20.1-7.6-46.7-12.7-63.9 c-0.7-2.5-1.5-5.2-1.7-6.1c-0.5-2.3-7.7-23.9-8.8-26.4c-0.5-1.2-1.5-3.6-2.1-5.4c-11.3-31.8-38.3-79.7-61-108.2 c-5.4-6.8-16.5-20.1-18.7-22.5c-1.1-1.2-4.3-4.7-7.1-7.7c-13.3-14.5-33.7-33.1-51.3-46.8c-27.6-21.4-53.5-36.7-89.8-53.4 c-40.7-18.6-110.3-35.2-148.4-35.4l-1.8,0V84c0-23.7-0.1-43-0.3-43c-0.2,0-33.8,25.1-74.8,55.9c-41,30.7-74.7,55.9-74.9,55.9 c-0.2,0-0.4-25.1-0.5-55.8l-0.2-55.8L298.5,105.4'/%3E%3C/svg%3E%0A");
                                    position: absolute;
                                    top: calc(50% - 9px);
                                    left: calc(50% - 10px);
                                    background-repeat: no-repeat;
                                    content: ' ';
                                    width: 16px;
                                    height: 21px;
                                    
                                }
                                
                                .vjs-backward-button {
                                    cursor: pointer
                                }
                                
                            }
                            
                            .sbplus-vjs-poster {
                                display: inline-block;
                                vertical-align: middle;
                                background-repeat: no-repeat;
                                background-position: center center;
                                background-size: contain;
                                background-color: #000;
                                cursor: pointer;
                                margin: 0;
                                padding: 0;
                                position: absolute;
                                top: 0;
                                right: 0;
                                bottom: 0;
                                left: 0;
                                height: 100%;
                                z-index: 0;
                            }
                            
                            .vjs-error-display {
                                display: none;
                            }
                            
                            .vjs-text-track-display {
                                z-index: 1;
                            }
                            
                            .vjs-tech {
                                z-index: 1;
                            }
                            
                            .vjs-control:focus,
                            .vjs-control:focus:before,
                            .vjs-control:hover:before {
                                text-shadow: none;
                            }
                            
                            .vjs-big-play-button {
                                font-size: 3em;
                                line-height: 1.5em;
                                height: 1.5em;
                                min-height: 1.5em;
                                width: 3em;
                                border: 0.06666em solid #fff;
                                border-radius: 0.3em;
                                left: 50%;
                                top: 50%;
                                margin-left: -1.5em;
                                margin-top: -0.75em;
                                z-index: 1;
                            }
                            
                            .vjs-menu {
                                
                                font-family: $default-font-family;
                                
                                .vjs-menu-content {
                                    
                                    .vjs-menu-item.vjs-selected {
                                        position: relative;
                                        color: #fff;
                                        background-color: rgba( 255, 255, 255, 0.25);
                                    }
                                    
                                    .vjs-menu-item.vjs-selected:before {
                                        position: absolute;
                                        top: 3px;
                                        top: rem( 3px );
                                        left: 4px;
                                        left: rem( 4px );
                                        width: 10px;
                                        width: rem( 10px );
                                        height: 10px;
                                        height: rem( 10px );
                                        font-family: 'sbplus';
                                        content: '\edba';
                                        font-size: 10px;
                                        font-size: rem( 10px );
                                    }
                                    
                                }
                                
                            }
                            
                            // subtitles button
                            .vjs-subtitles-button.vjs-menu-button-popup {
                                
                                .vjs-menu {
                                    left: -6em;
                                }
                                
                            }
                            
                            // replay button
                            .vjs-replay:before {
                                content:"ï„–"
                            }
                            
                            // resolution plugin
                            
                            .vjs-resolution-button:before {
                                font-family: VideoJS;
                                content: '\f110';
                            }
                            
                            

                            .vjs-resolution-button .vjs-resolution-button-label {
                                font-size: 1.2em;
                                line-height: 2.50em;
                                position: absolute;
                                top: 0;
                                left: 0;
                                width: 100%;
                                height: 100%;
                                text-align: center;
                                box-sizing: inherit;
                            }
                            
                            .vjs-resolution-button ul.vjs-menu-content {
                                width: 7em;
                            }
                            
                            .vjs-resolution-button .vjs-menu {
                                left: -1.8em;
                            }
                            
                        }
                        
                        .video-js.vjs-youtube {
                            
                            .vjs-control-bar {
                                
                                .vjs-resolution-button {
                                    
                                    .vjs-menu {
                                        left: -3em;
                                    }
                                    
                                }
                                
                            }
                            
                        }
                        
                    }
                    
                    // audio in iframe/html page type
                    .iframeEmbed {
                        
                        .video-js.vjs-audio {
                            /* Reset the height of the player to the height of the controller */
                            height: 3.2em;
                        
                            /* Who needs this ? */
                            .vjs-big-play-button {
                                display: none;
                            }
                            /* Make the controlbar visible by default */
                            .vjs-control-bar {
                                display: -webkit-box;
                                display: -webkit-flex;
                                display: -ms-flexbox;
                                display: flex;
                            }
                            /* The spinner is useless when there is just the controller only mode */
                            .vjs-loading-spinner {
                                display: none;
                            }
                            /* Add another way to indicate waiting by using the progress slider */
                            &.vjs-waiting .vjs-progress-holder:not( .vjs-seeking ) {
                                height: .5em;
                                background-image: repeating-linear-gradient(
                                    -45deg,
                                    #73859f,
                                    #73859f 11px,
                                    #eee 10px,
                                    #eee 20px
                                );
                                border-radius: 3px;
                                background-size: 28px 28px;
                        
                                transition: height .5s;
                                animation: vjs-slider-indeterminate .5s linear infinite;
                        
                                .vjs-play-progress {
                                    display: none;
                                }
                            }
                        }
                        @keyframes vjs-slider-indeterminate {
                            0% {
                                background-position: 0 0;
                            }
                            100% {
                                background-position: 28px 0;
                            }
                        }
                        
                    }
                    
                    // IE Hack for object fit
                    .sbplus_media_content.compat-object-fit {
                        background-size: contain;
                        background-position: center center;
                        background-repeat: no-repeat;
                        .img_only {
                            display: none;
                        }
                    }
                    
                    .sbplus_media_content.show-vjs-poster {
                        
                        .vjs-has-started {
                            
                            .vjs-poster {
                                display: block;
                                z-index: 1;
                            }
                            
                        }
                        
                    }
                    
                }
                
                #sbplus_media_wrapper.sidebar_on {
                        
                }
                
                #sbplus_media_wrapper.sidebar_off {
                    
                }
                
                #sbplus_media_wrapper.widget_on {
                    
                }
                
                #sbplus_media_wrapper.widget_off {
                    
                    
                }
                
                #sbplus_media_wrapper.widget_off.sidebar_off {
                    
                    
                    
                }
                
/*
                #sbplus_media_wrapper.non_aspect_ratio {
                    height: calc( 100% - #{$widget-height} );
                }
                
                #sbplus_media_wrapper.aspect_ratio {
                    @include aspect-ratio( 16, 9 );
                }
*/
                
                #sbplus_quiz_wrapper {
                    
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background-color: #f2f2f2;
                    z-index: 10;
                    overflow-x: hidden;
                    overflow-y: auto;
                    
                    .sbplus_quiz_header {
                        
                        padding: 8px;
                        font-size: 12px;
                        background-color: $border-color;
                    }
                    
                    .quiz_error {
                        padding: 8px;
                        background-color: #ed9033;
                        font-weight: bold;
                        text-align: center;
                    }
                    
                    .quiz_correct {
                        padding: 8px;
                        background-color: #56f24e;
                        font-weight: bold;
                        text-align: center;
                    }
                    
                    .quiz_incorrect {
                        padding: 8px;
                        background-color: #f27474;
                        font-weight: bold;
                        text-align: center;
                    }
                    
                    .sbplus_quiz_question {
                        
                        padding: 10px;
                        font-size: 16px;
                        line-height: 16px;
                        
                        p {
                            margin-bottom: 10px;
                        }
                        
                        small {
                            font-size: 14px;
                            line-height: 14px;
                        }
                        
                        audio {
                            width: 100%;
                        }
                        
                        img {
                            max-width: 100%;
                        }
                        
                        ol, ul {
                            
                            list-style-position: outside;
                            margin-left: 35px;
                            
                            li {
                                margin-top: 10px;
                            }
                            
                        }
                        
                    }
                    
                    .sbplus_quiz_result {
                        
                        padding: 10px;
                        font-size: 14px;
                        line-height: 18px;
                        
                        p, ul, ol {
                            margin-bottom: 10px;
                        }
                        
                        ul, ol {
                            
                            list-style-position: outside;
                            padding-left: 25px;
                            
                            li {
                                margin-bottom: 5px;
                            }
                            
                        }
                        
                    }
                    
                    .sbplus_quiz_input {
                        
                        padding: 0 10px 5px;
                        
                        label {
                            display: block;
                            margin-bottom: 8px;
                            text-indent: -17px;
                            padding-left: 23px;
                        }
                        
                        .img_val {
                            
                            display: inline-block;
                            position: relative;
                            margin-right: 10px;
                            
                            input[type=checkbox],
                            input[type=radio] {
                                position: absolute;
                                top: 5px;
                                left: 10px;
                            }
                            
                        }
                        
                        .au_val {
                            
                            position: relative;
                            
                            audio {
                                width: 95%;
                                display: inline-block;
                                margin-left: 5px;
                            }
                            
                            input[type=checkbox],
                            input[type=radio] {
                                position: relative;
                                bottom: 12px;
                            }
                            
                        }
                        
                        textarea {
                            width: 100%;
                            height: 200px;
                            padding: 5px;
                            font-family: $default-font-family;
                            font-size: 14px;
                            line-height: 14px;
                            resize: none;
                            margin-bottom: 0;
                            border: 1px solid $border-color;
                        }
                        
                        input[type=text] {
                            display: block;
                            width: 100%;
                            height: 30px;
                            padding: 5px;
                            font-family: $default-font-family;
                            font-size: 14px;
                            line-height: 16px;
                            margin-bottom: 0;
                            border: 1px solid $border-color;
                        }
                        
                    }
                    
                    .sbplus_quiz_submit_btn {
                        width: 100px;
                        min-height: 0;
                        margin-top: 10px;
                        margin-left: 10px;
                        padding: 10px 0;
                        background-color: $default-accent;
                        @include border-radius( 5px );
                        color: #fff;
                        font-weight: bold;
                        font-size: 16px;
                    }
                    
                }
                
                #sbplus_widget {
                    
                    position: absolute;
                    width: 100%;
                    height: $widget-height;
                    z-index: 1;
                    background-color: #fff;
                    overflow: hidden;
                    
                    .widget_controls_bar {
                        
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 25px;
                        border-bottom: 1px solid $border-color;
                        background-color: rgba(#f2f2f2, 0.95);
                        -webkit-backdrop-filter: blur( 8px );
                        backdrop-filter: blur( 8px );
                        z-index: 80;
                        
                        .tab_segment {
                        
                            @include display-flex();
                            @include flex-flow( row nowrap );
                            @include justify-content( flex-start );
                            width: 100%;
                            height: 100%;
                            padding: 0;
                            
                            button {
                                width: auto;
                                min-width: 90px;
                                min-height: 0;
                                padding: 2px 5px;
                                font-size: 12px;
                                line-height: 1;
                                border-right: 1px solid $border-color;
                                color: #333;
                            }
                            
                            .active {
                                position: relative;
                                color: #000;
                                background-color: #fff;
                            }
                            
                            .active::after {
                                position: absolute;
                                width: 100%;
                                height: 1px;
                                left: 0;
                                bottom: -1px;
                                background-color: #fff;
                                content: '';
                                z-index: 1;
                            }
                            
                        }
                        
                    }
                    
                    .segment_content {
                        
                        padding: 30px 10px 0;
                        width: 100%;
                        height: 100%;
                        overflow-y: auto;
                        background-image: none;
                        @include word-break( break-all );
                        @include animation-duration( 0.5s );
                        
                        h1, h2, h3, h4, h5, h6, p, blockquote {
                            margin: 6px 0;
                            line-height: 1.5;
                        }
                        
                        ol, ul {
                            
                            list-style-position: outside;
                            margin-left: 25px;
                            
                            li {
                                margin: 6px 0;
                                line-height: 1.5;
                            }
                            
                        }
                        
                        pre, code {
                            white-space: pre-wrap;
                        }
                        
                        .lt-wrapper {
                            
                            margin: 6px 0;
                            color: #595959;
                            
                            .lt-line {
                                cursor: pointer;
                            }
                            
                            .lt-line:hover {
                                text-decoration: underline;
                                color: #00f;
                            }
                            
                            .current {
                                color: #00f;
                            }
                            
                        }
                        
                    }
                    
                }
                
                #sbplus_widget.noSegments {
                    
                    background-color: #ececed;
                    
                    .widget_controls_bar {
                        display: none;
                    }
                    
                    .segment_content {
                        
                        margin: 0;
                        background-image: url( '../images/default_logo.svg' );
                        background-position: center center;
                        background-repeat: no-repeat;
                        background-size: 25%;
                        padding: 0;
                        filter: invert(0.5);
                        
                    }
                    
                }
                
            }
            
            #sbplus_right_col {
                
                //@include flex-flow( column nowrap );
                @include flex( 1 0 auto );
//                 @include order(2);
//                 position: relative;
                overflow-x: hidden;
                overflow-y: auto;
                
                #sbplus_sub_bar {

                    height: 30px;
                    max-height: 30px;
                    background-color: #ececed;
                    border-bottom: 2px solid $border-color;
                    
                    .title {
                        @include display-flex();
                        @include flex( 2 0 90% );
                        @include align-items( center );
                        padding-left: $gutter;
                        font-weight: bold;
                        font-size: 12px;
                        line-height: 12px;
                        height: 100%;
                    }
                    
                }
                
                .list {
                        
                    @include animation-duration( 0.5s );
                    
                    .item {
                        min-height: 35px;
                        padding: 5px ($gutter + 5);
                        border-bottom: 1px solid #e8e8e8;
                        cursor: pointer;
                    }
                    
                    .item:hover {
                        color: #fff;
                        background-color: $default-accent-hover;
                    }
                    
                    .sb_selected {
                        color: #fff;
                        background-color: $default-accent;
                    }
                    
                }
                
                #sbplus_table_of_contents_wrapper {
                    
/*
                    @include display-flex();
                    @include flex-flow( column nowrap );
                    @include flex( 2 0 auto );
*/
                    @include calc( height, '100% - ' + 30px );
                    overflow-y: auto;
                    background-color: #fff;
                    
                    .section {
                        
                        .header {
                            
                            @include display-flex();
                            @include flex-flow( row nowrap );
                            @include align-items( center );
                            height: 40px;
                            background-color: #ececed;
                            border-top: 1px solid $border-color;
                            cursor: pointer;
                            
                            .title {
                                font-weight: bold;
                                padding: 5px 10px;
                                line-height: 1;
                                @include flex( 2 0 89.5% );
                            }
                            
                            .icon {
                                @include flex( 1 0 10.5% );
                                padding: 0 10px 0 0;
                                text-align: right;
                            }
                            
                        }
                        
                        .current {
                            
                            border-left: 5px solid $default-accent;
                            
                            .title {
                                padding-left: 5px;
                            }
                            
                        }
                        
                        .list {
                            
                            .item {
                                
                                display: block;
                                text-indent: -35px;
                                padding: 10px 10px 10px 35px;
                                
                                [class^="icon-"],
                                .numbering {
                                    display: inline-block;
                                    width: 20px;
                                    margin: 0 0 0 10px;
                                    text-align: right;
                                }
                                
                                [class^="icon-"] {
                                    margin: 0 5px 0 10px;
                                    padding-right: 4px;
                                }
                                
                            }
                            
                            .item:first-child {
                                border-top: 1px solid $border-color;
                            }
                            
                            .item:last-child {
                                border-bottom: none;
                            }
                            
                        }
                        
                    }
                    
                    .section:first-child {
                        
                        .header {
                            border-top: none;
                        }
                        
                    }
                    
                    .section:last-child {
                        
                        .header {
                            border-bottom: 1px solid $border-color;
                        }
                        
                        .list {
                            
                            .item:first-child {
                                border-top: none;
                            }
                            
                            .item:last-child {
                                border-bottom: 1px solid #e8e8e8;
                            }
                            
                        }
                        
                    }
                    
                }
                
            }
            
        }
        
        #sbplus_control_bar {
            
            @include display-flex();
            @include flex-flow( row nowrap );
            @include order(3);
            height: $cntrlBarHeight;
            font-size: 120%;
            border-top: 1px solid $border-color;
            background-color: #fff;
            
            .common {
                @include display-flex();
                @include flex-flow(row nowrap);
            }
            
            #sbplus_left_controls {
                
                @extend .common;
                @include flex( 1 0 auto );
                
                #sbplus_previous_btn {
                    @include flex( 1 0 30% );
                    border-right: 1px solid $border-color;
                    font-size: 145%;
                    line-height: 1;
                }
                
                #sbplus_next_btn {
                    @include flex( 1 0 30% );
                    border-right: 1px solid $border-color;
                    font-size: 145%;
                    line-height: 1;
                }
                
                #sbplus_page_status {
                    @include display-flex();
                    @include flex-flow(row nowrap);
                    @include flex( 1 0 40% );
                    @include align-items(center);
                    @include justify-content(center);
                    @include align-self(center);
                    height: 100%;
                    padding: 0 $gutter;
                    font-weight: bold;
                }
                
            }
            
            #sbplus_right_controls {
                
                @extend .common;
                @include justify-content( flex-end );
                //@include flex( 1 0 28.89% );
                width: 120px;
                
                #sbplus_download_btn_wrapper {
                    
                    display: none;
                    width: 100%;
                    min-width: 60px;
                    border-left: 1px solid $border-color;
                    margin: 0;
                    padding: 0;
                    
                    #sbplus_download_btn,
                    .root-level {
                        
                        list-style: none;
                        height: 100%;
                        text-align: center;
                        font-size: 145%;
                        line-height: 1;
                    
                        .menu-parent {
                            
                            position: relative;
                            height: 100%;
                            cursor: pointer;
                            
                            .menu {
                            
                                position: absolute;
                                width: 140%;
                                left: -20%;
                                bottom: 100%;
                                list-style: none;
                                margin: 0;
                                padding: 0;
                                border: 1px solid $border-color;
                                background-color: #fff;
                                z-index: 11;
                                
                                .menu-item {
                                    
                                    margin: 0;
                                    padding: rem( 5px ) 0;
                                    height: 30px;
                                    
                                    a {
                                        display: block;
                                        font-size: 14px;
                                        color: #000;
                                        text-decoration: none;
                                    }
                                    
                                }
                                
                                .menu-item:hover {
                                    
                                    background-color: $default-accent;
                                    
                                    a {
                                        color: #fff;
                                    }
                                    
                                }
                                
                                .menu-item:focus {
                                    
                                    background-color: $default-accent;
                                    
                                    a {
                                        color: #fff;
                                    }
                                    
                                }
                                                                    
                            }
                            
                        }
                        
                        .menu-parent:hover {
                            color: $default-accent-hover;
                        }
                        
                    }
                    
                    ul[aria-hidden="true"] {
                        display: none;
                    }
                                            
                }
                
                #sbplus_widget_btn {
                    
                    position: relative;
                    border-left: 1px solid $border-color;
                    border-right: 1px solid $border-color;
                    font-size: 145%;
                    line-height: 1;
                    
                    .icon-widget-open {
                        display: none;
                    }
                    
                    .btnTip {
                        display: none;
                        font-size: 40%;
                    }
                    
                }
                
                #sbplus_widget_btn.showDot::before {
                    position: absolute;
                    content: '';
                    top: 0;
                    left: -5px;
                    width: 0;
                    height: 0;
                    border-left: 10px solid transparent;
                    border-right: 10px solid transparent;
                    border-bottom: 10px solid #ff5d5d;
                    @include rotate( -45deg );
                    
                }
                
                #sbplus_sidebar_btn {
                    display: none;
                    font-size: 145%;
                    line-height: 1;
                }
                
            }
            
        }
        
        #menu_item_content {
            
            display: none;
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            overflow-x: hidden;
            overflow-y: auto;
            @include animation-delay( 0.3s );
            @include animation-duration( 0.5s );
            background: #f2f2f2;
            z-index: 11;
            
            .sbplus_menu_title_bar {
                
                @include display-flex();
                @include flex-flow( row nowrap );
                @include order(1);
                @include justify-content(center);
                @include align-items(center);
                color: #fff;
                height: $titleBarHeight;
                background-color: #333;
                font-size: 145%;
                font-weight: bold;
                
                .title {
                    @include display-flex();
                    @include flex-flow( row nowrap );
                    @include flex( 2 1 71.11% );
                    @include align-items(center);
                    font-family: $museo-font;
                    padding: 0 $gutter;
                    line-height: 1.25;
                }
                
                #sbplus_menu_close_btn {
                    
                    width: 100px;
                    height: 30px;
                    min-height: 25px;
                    padding: 0 10px;
                    color: #fff;
                    background-color: #ff3c3c;
                    font-size: 75%;
                    text-transform: uppercase;
                    
                    .icon-close {
                        font-size: 80%;
                    }
                    
                }
                
            }
            
            .container {
                
                @include display-flex();
                @include flex-flow(row wrap);
                width: 100%;
                @include calc( height, '100% - ' + 30px );
                overflow: hidden;
                
                .content {
                    
                    @include flex(1);
                    
                    overflow: auto;
                    padding: $gutter;
                    height: 100%;
                    
                    div, h1, h2, h3, h4, h5, h6, p, blockquote {
                        margin: $gutter 0;
                    }
                    
                    ol, ul {
                        
                        margin: $gutter 0;
                        padding-left: $gutter * 3;
                        
                        li {
                            margin: $gutter/2 0;
                        }
                        
                    }
                    
                    .name {
                        margin-top: 0;
                        font-weight: bold;
                        font-size: 150%
                    }
                    
                    .profileImg {
                        
                        display: inline-block;
                        width: 250px;
                        margin: 0;
                        height: auto;
                        margin-left: $gutter * 1.5;
                        float: right;
                        
                        img {
                            width: 100%;
                            height: auto;
                        }
                        
                    }
                    
                }
                
                .settings {
                    
                    position: relative;
                    
                    .name {
                        margin-bottom: 0;
                    }
                    
                    .grid {
                        
                        @include display-flex();
                        @include flex-flow( column nowrap );
                        margin: 0;
                        
                        .row {
                            
                             @include display-flex();
                             @include flex-flow( row nowrap );
                             @include align-items(center);
                             margin: 0;
                             padding: 5px 0;
                             
                             .label {
                                 
                                 @include flex( 2 0 80% );
                                 margin: 0;
                                 padding: 0 8px;
                                 
                                 .error {
                                     @include flex( 1 0 20% );
                                     color: #f00;
                                     margin: 0;
                                     font-size: 12px;
                                 }
                                 
                             }
                             
                             .control {
                                 
                                 @include flex( 1 0 20% );
                                 margin: 0;
                                 padding: 0 5px;
                                 
                                 select,
                                 input[type=number] {
                                     width: 100%;
                                     padding: 3px 2px;
                                 }
                                 
                             }
                            
                        }
                        
                        .row:nth-child(even) {
                             background-color: #dfdfdf;
                        }
                        
                    }
                    
                    #save_settings {
                        display: none;
                        position: absolute;
                        width: 100%;
                        padding: 8px;
                        background-color: rgba(#56f24e, 0.75);
                        font-weight: bold;
                        text-align: center;
                        top: -20px;
                        z-index: 1;
                    }
                    
                }
                
                .side_menu {
                    
                    width: 260px;
                    height: 100%;
                    
                    .menu {
                        
                        height: 100%;
                        list-style: none;
                        margin: 0;
                        padding: 0;
                        background-color: #444;
                        
                        .menu-item {
                            
                            a { 
                                
                                @include display-flex();
                                @include flex-flow( row nowrap );
                                @include align-items( center );
                                width: 100%;
                                height: 35px;
                                padding: 0 ($gutter + 5);
                                font-size: 14px;
                                font-weight: normal;
                                color: #fff;
                                text-decoration: none;
                                
                                span {
                                    display: inline-block;
                                    margin-right: 5px;
                                }
                                
                            }
                            
                        }
                        
                        .menu-item:hover {
                            
                            background-color: $default-accent-hover;
                            
                            a {
                                color: #fff;
                            }
                            
                        }
                        
                        .menu-item:focus {
                            
                            background-color: $default-accent;
                            
                            a {
                                color: #fff;
                            }
                            
                        }
                        
                        .active {
                            background-color: $default-accent-hover;
                        }
                                                            
                    }
                    
                }
                
            }
            
        }
        
        .sb_disabled {
            color: #7f7f7f;
            cursor: default;
        }
        
        .sb_disabled::before {
            display: none;
        }
        
    }
    
    #copyright-footer {
        display: none;
    }
    
} // end main wrapper

.sbplus_full,
.sbplus_boxed {
    
    @include flex( 1 0 100% );
    width: 100%;
    height: 100%;

    #sbplus {
        
        width: 100%;
        height: 100%;
        
        #sbplus_splash_screen {
            width: 100%;
            height: 100%;
        }
        
    }
    
}

.sbplus_full {
    
    position: absolute;
    z-index: 99;
    top: 0;
    left: 0;
    
    #sbplus {
        
        #sbplus_banner_bar {
            
            #sbplus_menu_area {
                
                #sbplus_menu_btn_wrapper {
                    
                    #sbplus_menu_btn,
                    .root-level {
                    
                        .menu-parent {
                            padding-right: $gutter;
                            @include justify-content( flex-end );
                        }
                        
                    }
                    
                }
                
            }
            
        }
        
    }
    
}

.sbplus_boxed {

    #sbplus {
        
        #sbplus_content_wrapper {
            
            #sbplus_left_col {
                
                #sbplus_widget {
                    border-left: 1px solid $border-color;
                    border-right: 1px solid $border-color;
                }
                
            }
            
            #sbplus_right_col {
                border-right: 1px solid $border-color;
                
                #sbplus_table_of_contents_wrapper {
                    border-left: 1px solid $border-color;
                }
                
            }
            
        }
        
        #sbplus_control_bar {
            
            border-left: 1px solid $border-color;
            border-top: 1px solid $border-color;
            border-bottom: 1px solid $border-color;
            
        }
        
    }
    
}

$cntrlBarHeight: 50px;
$titleBarHeight: 30px;

@media only screen
    and ( min-device-width: 768px )
    and ( min-width: 900px ) {
    
    .sbplus_boxed {
        
        #theme-decoration-bar {
            
            @include display-flex();
            @include flex-flow(row nowrap);
            width: 100%;
            height: 20px;
            margin-bottom: $gutter * 2;
            background-color: $default-accent;
            
            span {
                @include display-flex();
                @include flex(1 0 auto);
                @include user-select(none);
                background-color: $default-accent;
            }
            
        }
        
        #sbplus_error_screen {
            width: 900px;
            height: $box-height;
            margin: 0 auto;
        }
        
        #sbplus {
            
            width: 900px;
            height: $box-height;
            margin: 0 auto;
            
            #sbplus_splash_screen {
                width: 900px;
                height: $box-height;
            }
            
            #sbplus_content_wrapper {
            
                #sbplus_left_col {
                                
                    border-left: 1px solid rgba( 0,0,0,0.25 );
                        
                    #sbplus_widget {
                        border-left: none;
                        border-right: none;
                    }
                        
                }
                    
                #sbplus_right_col {
                    
                    border-right: 1px solid $border-color;
                    
                    #sbplus_table_of_contents_wrapper {
                        border-left: none;
                    }
                    
                }
                
            }
            
            #sbplus_control_bar {
                border-left: 1px solid $border-color;
                border-right: 1px solid $border-color;
                border-bottom: 1px solid $border-color;
            }
            
        }
        
        #copyright-footer {
            display: block;
            text-align: center;
            margin-top: $gutter * 2;
            @include font-size( 12px );
            color: #636266;
        }
        
    }
    
    .sbplus_wrapper {
        
        #sbplus {
        
            #sbplus_splash_screen {
                
                #sbplus_presentation_info {
                    
                    .sb_cta {
                        
                        @include display-flex();
                        @include flex-flow(row nowrap);
                        @include justify-content( space-between );
                        
                        button:first-child {
                            margin-right: 2%;
                        }
                        
                        button {
                            @include flex(1 0 49%);
                            margin-bottom: 0;
                        }
                        
                    }
                    
                    .sb_downloads {
                        
                        @include display-flex();
                        @include flex-flow(row nowrap);
                        margin: $gutter 0 5px;
                        
                        a {
                            @include flex(1 0 25%);
                            display: block;
                            font-size: 120%;
                            margin-bottom: 0;
                            @include border-radius( 0 );
                            border: none;
                        }
                        
                    }
                    
                }
                
            }
            
            #sbplus_banner_bar {
                
                height: $titleBarHeight;
                font-size: 120%;
                
                #sbplus_lession_title {
                    display: block;
                    width: 60%;
                    white-space: nowrap;
                    text-overflow: ellipsis;
                    overflow: hidden;
                    @include align-self( center );
                }
                
                #sbplus_menu_area {
                    
                    width: 258px;
                    
                    #sbplus_author_name {
                        @include display-flex();
                        -ms-flex: 2 0 75%;
                        height: 100%;
                        text-align: left;
                        font-weight: bold;
                        min-height: 0;
                        @include align-self( center );
                        @include align-items( center );
                        padding: 0 $gutter;
                        white-space: nowrap;
                        text-overflow: ellipsis;
                        overflow: hidden;
                        background-color: transparent;
                    }
                    
                    #sbplus_author_name:disabled {
                        cursor: default;
                    }
                    
                    #sbplus_menu_btn_wrapper {
                    
                        -ms-flex: 1 0 15%;
                        
                        #sbplus_menu_btn,
                        .root-level {
                            
                            min-width: 30px;
                            margin: 0;
                            padding: 0;
                            color: inherit;
                            font-size: 28px;
                            list-style: none;
                            height: 100%;
                            line-height: 1;
                        
                            .menu-parent {
                                
                                @include display-flex();
                                @include align-items( center );
                                position: relative;
                                height: 100%;
                                cursor: pointer;
                                
                                .menu {
                                
                                    position: absolute;
                                    width: 260px;
                                    right: -9px;
                                    top: 29px;
                                    list-style: none;
                                    margin: 0;
                                    padding: 0;
                                    border-top: none;
                                    background-color: #5f5d5d;
                                    @include box-shadow( 0 6px 4px 2px #fff);
                                    z-index: 11;
                                    
                                    .menu-item {
                                        
                                        a { 
                                            
                                            @include display-flex();
                                            @include flex-flow( row nowrap );
                                            @include align-items( center );
                                            width: 100%;
                                            height: 35px;
                                            padding: 0 ($gutter + 5);
                                            font-size: 14px;
                                            font-weight: normal;
                                            color: #fff;
                                            text-decoration: none;
                                            
                                            span {
                                                display: inline-block;
                                                margin-right: 5px;
                                            }
                                            
                                        }
                                        
                                    }
                                    
                                    .menu-item:hover {
                                        
                                        background-color: $default-accent-hover;
                                        
                                        a {
                                            color: #fff;
                                        }
                                        
                                    }
                                    
                                    .menu-item:focus {
                                        
                                        background-color: $default-accent;
                                        
                                        a {
                                            color: #fff;
                                        }
                                        
                                    }
                                                                        
                                }
                                
                            }
                            
                            .active {
                                color: #ff3c3c;
                            }
                            
                        }
                        
                        ul[aria-hidden="true"] {
                            display: none;
                        }
                        
                    }
                    
                }
                
            }
            
            #sbplus_content_wrapper {
                
                @include flex-flow( row nowrap );
                @include calc( height, '100% - ' + 80px );
                
                #sbplus_left_col {
                
                    width: 100%;
                    height: 100%;
                    border-right: 1px solid $border-color;
                    
                    #sbplus_media_wrapper {
                        
                        height: calc( 100% - #{$widget-height} );
                        
                        .sbplus_media_content {
                            /* videoJS customization goes here if any */
                        }
                        
                    }
                    
                    #sbplus_widget {
                        @include display-flex();
                        @include flex-flow( column nowrap );
                        @include flex( 1 0 auto );
                        position: relative;
                        height: $widget-height;
                        bottom: 0;
                        border-top: 1px solid $border-color;
                    }
                    
                }
                
                #sbplus_right_col {
                    width: 258px;
                    height: 100%;
                }
                
            }
            
            #sbplus_control_bar {
                
                height: $cntrlBarHeight;
                font-size: 100%;
                
                #sbplus_left_controls {
                    
                    #sbplus_previous_btn {
                        max-width: 100px;
                    }
                    
                    #sbplus_next_btn {
                        max-width: 100px;
                    }
                    
                    #sbplus_page_status {
                         @include justify-content(flex-start);
                    }
                    
                }
                
                #sbplus_right_controls {
                    
                    width: 258px;
                    
                    #sbplus_download_btn_wrapper {
                        
                        display: block;
                        height: 48px;
                        
                        #sbplus_download_btn,
                        .root-level {
                            
                            width: 100%;
                            
                            .menu-parent {
                                
                                @include display-flex();
                                @include align-items( center );
                                
                                span {
                                    display: block;
                                    margin: 0 auto;
                                }
                                
                                .menu {
                                    
                                    .menu-item {
                                        @include display-flex();
                                        @include align-items( center );
                                        @include justify-content( center );
                                    }
                                    
                                }
                                
                            }
                            
                            .active {
                                color: $default-accent-hover;
                            }
                            
                        }
                        
                    }
                    
                    #sbplus_sidebar_btn {
                        display: block;
                    }
                    
                }
                
            }
            
            #menu_item_content {
                
                .sbplus_menu_title_bar {
                    height: $titleBarHeight;
                }
                
            }
            
        }
        
    }
    
    .sbplus_full {
        
        #sbplus {
            
            #sbplus_banner_bar {
                
                #sbplus_menu_area {
            
                    #sbplus_author_name {
                        width: auto;
                        @include flex(initial);
                        @include align-self(flex-end);
                    }
                    
                    #sbplus_menu_btn_wrapper {
                        @include flex(initial);
                    }
                    
                }
                
            }
            
            #sbplus_content_wrapper {
                
                #sbplus_left_col {
                    border-right: none;   
                }
                
                #sbplus_right_col {
                    border-left: 1px solid $border-color;
                }
                
            }
            
        }
        
    }
    
    .sbplus_autoplay_on {
    
        #sbplus_media_wrapper {
            
            .sbplus_media_content {
                
                .video-js.vjs-default-skin {
                    
                    .vjs-big-play-button {
                        display: none;
                   }
                   
                }
            }
            
        }
        
    }
    
    .sbplus_autoplay_on.preventAutoplay {
        #sbplus_media_wrapper {
            
            .sbplus_media_content {
                
                .video-js.vjs-default-skin {
                    
                    .vjs-big-play-button {
                        display: block;
                    }
                   
                }
                
                .video-js.vjs-default-skin.vjs-has-started {
                    
                    .vjs-big-play-button {
                        display: none;
                    }
                   
                }
            }
            
        }
    }
    
}

.loaded-in-iframe {

    width: 900px;
    height: $box-height;
    margin: 0 auto;
    
    #theme-decoration-bar {
        display: none;
    }
    
    #sbplus_error_screen {
        width: 900px;
        height: $box-height;
    }
    
    #sbplus {
        
        width: 900px;
        height: $box-height;
        
        #sbplus_splash_screen {
            width: 900px;
            height: $box-height;
        }
        
        #sbplus_content_wrapper {
        
            #sbplus_left_col {
                            
                border-left: 1px solid $border-color;
                    
                #sbplus_widget {
                    border-left: none;
                    border-right: none;
                }
                    
            }
                
            #sbplus_right_col {
                
                border-right: 1px solid $border-color;
                
                #sbplus_table_of_contents_wrapper {
                    border-left: none;
                }
                
            }
            
        }
        
        #sbplus_control_bar {
            border-left: 1px solid $border-color;
            border-right: 1px solid $border-color;
            border-bottom: 1px solid $border-color;
        }
        
    }
    
    #sbplus {
    
        #sbplus_splash_screen {
            
            #sbplus_presentation_info {
                
                .sb_cta {
                    
                    @include display-flex();
                    @include flex-flow(row nowrap);
                    @include justify-content( space-between );
                    
                    button:first-child {
                        margin-right: 2%;
                    }
                    
                    button {
                        @include flex(1 0 49%);
                        margin-bottom: 0;
                    }
                    
                }
                
                .sb_downloads {
                    
                    @include display-flex();
                    @include flex-flow(row nowrap);
                    margin: $gutter 0 5px;
                    
                    a {
                        @include flex(1 0 25%);
                        display: block;
                        font-size: 120%;
                        margin-bottom: 0;
                        @include border-radius( 0 );
                        border: none;
                    }
                    
                }
                
            }
            
        }
        
        #sbplus_banner_bar {
            
            height: $titleBarHeight;
            font-size: 120%;
            
            #sbplus_lession_title {
                display: block;
                width: 60%;
                white-space: nowrap;
                text-overflow: ellipsis;
                overflow: hidden;
                @include align-self( center );
            }
            
            #sbplus_menu_area {
                
                width: 258px;
                
                #sbplus_author_name {
                    @include display-flex();
                    -ms-flex: 2 0 75%;
                    height: 100%;
                    text-align: left;
                    font-weight: bold;
                    min-height: 0;
                    @include align-self( center );
                    @include align-items( center );
                    padding: 0 $gutter;
                    white-space: nowrap;
                    text-overflow: ellipsis;
                    overflow: hidden;
                    background-color: transparent;
                }
                
                #sbplus_menu_btn_wrapper {
                
                    -ms-flex: 1 0 15%;
                    
                    #sbplus_menu_btn,
                    .root-level {
                        
                        min-width: 30px;
                        margin: 0;
                        padding: 0;
                        color: inherit;
                        font-size: 28px;
                        list-style: none;
                        height: 100%;
                        line-height: 1;
                    
                        .menu-parent {
                            
                            @include display-flex();
                            @include align-items( center );
                            position: relative;
                            height: 100%;
                            cursor: pointer;
                            
                            .menu {
                            
                                position: absolute;
                                width: 260px;
                                right: -9px;
                                top: 29px;
                                list-style: none;
                                margin: 0;
                                padding: 0;
                                border-top: none;
                                background-color: #5f5d5d;
                                @include box-shadow( 0 6px 4px 2px #fff);
                                z-index: 11;
                                
                                .menu-item {
                                    
                                    a { 
                                        
                                        @include display-flex();
                                        @include flex-flow( row nowrap );
                                        @include align-items( center );
                                        width: 100%;
                                        height: 35px;
                                        padding: 0 ($gutter + 5);
                                        font-size: 14px;
                                        font-weight: normal;
                                        color: #fff;
                                        text-decoration: none;
                                        
                                        span {
                                            display: inline-block;
                                            margin-right: 5px;
                                        }
                                        
                                    }
                                    
                                }
                                
                                .menu-item:hover {
                                    
                                    background-color: $default-accent-hover;
                                    
                                    a {
                                        color: #fff;
                                    }
                                    
                                }
                                
                                .menu-item:focus {
                                    
                                    background-color: $default-accent;
                                    
                                    a {
                                        color: #fff;
                                    }
                                    
                                }
                                                                    
                            }
                            
                        }
                        
                        .active {
                            color: #ff3c3c;
                        }
                        
                    }
                    
                    ul[aria-hidden="true"] {
                        display: none;
                    }
                    
                }
                
            }
            
        }
        
        #sbplus_content_wrapper {
            
            @include flex-flow( row nowrap );
            @include calc( height, '100% - ' + 80px );
            
            #sbplus_left_col {
            
                width: 100%;
                height: 100%;
                border-right: 1px solid $border-color;
                
                #sbplus_media_wrapper {
                    
                    height: calc( 100% - #{$widget-height} );
                    
                    .sbplus_media_content {
                        /* videoJS customization goes here if any */
                    }
                    
                }
                
                #sbplus_widget {
                    @include display-flex();
                    @include flex-flow( column nowrap );
                    @include flex( 1 0 auto );
                    position: relative;
                    height: $widget-height;
                    bottom: 0;
                    border-top: 1px solid $border-color;
                }
                
            }
            
            #sbplus_right_col {
                width: 258px;
                height: 100%;
            }
            
        }
        
        #sbplus_control_bar {
            
            height: $cntrlBarHeight;
            font-size: 100%;
            
            #sbplus_left_controls {
                
                #sbplus_previous_btn {
                    max-width: 100px;
                }
                
                #sbplus_next_btn {
                    max-width: 100px;
                }
                
                #sbplus_page_status {
                     @include justify-content(flex-start);
                }
                
            }
            
            #sbplus_right_controls {
                
                width: 258px;
                
                #sbplus_download_btn_wrapper {
                    
                    display: block;
                    height: 48px;
                    
                    #sbplus_download_btn,
                    .root-level {
                        
                        width: 100%;
                        
                        .menu-parent {
                            
                            @include display-flex();
                            @include align-items( center );
                            
                            span {
                                display: block;
                                margin: 0 auto;
                            }
                            
                            .menu {
                                
                                .menu-item {
                                    @include display-flex();
                                    @include align-items( center );
                                    @include justify-content( center );
                                }
                                
                            }
                            
                        }
                        
                        .active {
                            color: $default-accent-hover;
                        }
                        
                    }
                    
                }
                
                #sbplus_sidebar_btn {
                    display: block;
                }
                
                #sbplus_widget_btn {
                    .btnTip {
                        display: none;
                    }
                }
                
            }
            
        }
        
        #menu_item_content {
            
            .sbplus_menu_title_bar {
                height: $titleBarHeight;
            }
            
        }
        
    }
    
    #copyright-footer {
        display: none;
    }
    
}

.sbplus_full {
    
    #sbplus {
        
        #sbplus_banner_bar {
            
            #sbplus_menu_area {
        
                #sbplus_author_name {
                    width: auto;
                    @include flex(initial);
                    @include align-self(flex-end);
                }
                
                #sbplus_menu_btn_wrapper {
                    @include flex(initial);
                }
                
            }
            
        }
        
        #sbplus_content_wrapper {
            
            #sbplus_left_col {
                border-right: none;   
            }
            
            #sbplus_right_col {
                border-left: 1px solid $border-color;
            }
            
        }
        
    }

    #sbplus_media_wrapper {
        
        .sbplus_media_content {
            
            .video-js.vjs-default-skin {
                
                .vjs-big-play-button {
                    display: none;
               }
               
            }
        }
        
    }
    
}